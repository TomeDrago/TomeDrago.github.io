<html>
	<head>
		<title>życie</title>
		<meta charset="utf-8" />
		<style>
			body {
				margin: none;
				padding: none;
				overflow: hidden;
			}
		
		    #plansza {
				width: 100vw;
				height: 100vh;
			}
		
			.człowiek {
				background-color: green;
				width: 2vw;
				height: 2vh;
				position: absolute;
			}
			
			.brak-człowieka {
				background-color: white;
				width: 2vw;
				height: 2vh;
				position: absolute;
			}
		</style>
		<script>
			var tablica = [], plansza;
			
			function ludzie() {
				var rząd = Math.floor(Math.random() * 47 + 1);
				var kolumna = Math.floor(Math.random() * 47 + 1);
				
				var sąsiedzi = 0;
				if (tablica[rząd - 1][kolumna - 1] === 1) {
					sąsiedzi += 1;
				}
				if (tablica[rząd - 1][kolumna] === 1) {
					sąsiedzi += 1;
				}
				if (tablica[rząd - 1][kolumna + 1] === 1) {
					sąsiedzi += 1;
				}
				if (tablica[rząd + 1][kolumna - 1] === 1) {
					sąsiedzi += 1;
				}
				if (tablica[rząd + 1][kolumna] === 1) {
					sąsiedzi += 1;
				}
				if (tablica[rząd + 1][kolumna + 1] === 1) {
					sąsiedzi += 1;
				}
				if (tablica[rząd][kolumna - 1] === 1) {
					sąsiedzi += 1;
				}
				if (tablica[rząd][kolumna + 1] === 1) {
					sąsiedzi += 1;
				}
				
				var kwadrat = document.getElementById(rząd + '-' + kolumna);
				
				if (sąsiedzi === 2) {
				} else if (sąsiedzi === 3) {
					tablica[rząd][kolumna] = 1;
					kwadrat.className = 'człowiek';
				} else {
					tablica[rząd][kolumna] = 0;
					kwadrat.className = 'brak-człowieka';
				}
			}
			
			function ludzieLudzie() {
				var i;
				for (i = 0; i < 1000; i += 1) {
					ludzie();
				}
			}
			
			function usuńKwadrat(event) {
				var kwadrat = event.currentTarget;
				var rządKolumna = kwadrat.id.split('-');
				var rząd = rządKolumna[0];
				var kolumna = rządKolumna[1];
				tablica[rząd][kolumna] = 0;
				kwadrat.className = 'brak-człowieka';
			}
			
			function rozpocznij() {
				plansza = document.getElementById('plansza');
				var rząd, kolumna;
				for (rząd = 0; rząd < 50; rząd += 1) {
					tablica[rząd] = [];
					for (kolumna = 0; kolumna < 50; kolumna += 1) {
						if (Math.random() < .5) {
							tablica[rząd][kolumna] = 0;
						} else {
							tablica[rząd][kolumna] = 1;
						}
						var kwadrat = document.createElement('div');
						kwadrat.id = rząd + '-' + kolumna;
						kwadrat.style.left = (kolumna * 2) + 'vw' ;
						kwadrat.style.top = (rząd * 2) + 'vh' ;
						kwadrat.className = tablica[rząd][kolumna] === 1 ? 'człowiek' : 'brak-człowieka';
						kwadrat.onmouseover = usuńKwadrat;
						kwadrat.onclick = usuńKwadrat;
						plansza.appendChild(kwadrat);
					
					}
				}
				setInterval(ludzieLudzie, 100);
			}
			
			setTimeout(rozpocznij, 1000);
		</script>
	</head>
	<body>
		<div id="plansza">
		</div>
	</body>
</html>
